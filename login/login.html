<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - VoltWay</title>

  <!-- Tela de Carregamento -->
  <div id="preloader">
    <div class="spinner"></div>
  </div>

  <link rel="stylesheet" href="login.css">
  
  <!-- API Service -->
  <script src="../api-service.js"></script>
  <!-- Migration Script -->
  <script src="../migration.js"></script>
</head>

<body>
  <div class="login-container">

    <!-- ==================== LOGIN ==================== -->
    <form id="loginForm" class="form active" autocomplete="off">
      <img src="../assets/logo.png" class="login-logo" alt="VoltWay">
      <h2>Login</h2>
      <label for="username">Email</label>
      <input type="email" id="username" name="username" required placeholder="Digite seu email" autocomplete="off">

      <label for="password">Senha</label>
      <input type="password" id="password" name="password" required placeholder="Digite sua senha" autocomplete="off">

      <p id="errorMsg" class="msg"></p>

      <button type="submit" class="btn">Entrar</button>

      <!-- Botão Google -->
      <div id="googleLoginBtn" style="margin-top: 15px;"></div>

      <!-- Links Registrar -->
      <div class="extra-actions">
        <a href="#" id="goToRegister">Registrar-se</a>
      </div>
    </form>

    <!-- ==================== REGISTRO DE USUÁRIO ==================== -->
    <form id="registerForm" class="form" autocomplete="off">
      <!-- Link Registrar Estação -->
      <div class="extra-actions" style="text-align: right; margin-bottom: 10px;">
        <a href="#" id="goToRegisterStation">Registrar Estação</a>
      </div>

      <h2>Criar Conta</h2>

      <label for="fullName">Nome</label>
      <input type="text" id="fullName" name="fullName" required placeholder="Seu nome" autocomplete="off">

      <label for="newEmail">Email</label>
      <input type="email" id="newEmail" name="newEmail" required placeholder="exemplo@email.com" autocomplete="off">

      <label for="newPass">Senha</label>
      <input type="password" id="newPass" name="newPass" required placeholder="Mínimo 8 caracteres"
        autocomplete="new-password">

      <!-- Campo de confirmação -->
      <label for="confirmPass">Confirmar Senha</label>
      <input type="password" id="confirmPass" name="confirmPass" required placeholder="Repita sua senha"
        autocomplete="off">

      <label for="phone">Número de Telefone (opcional)</label>
      <input type="tel" id="phone" name="phone" placeholder="(99) 99999-9999" autocomplete="off">

      <!-- Botão para abrir aba -->
      <button type="button" class="add-vehicle-btn" id="toggleVehicle">
        + Adicionar Veículo (Opcional)
      </button>

      <div id="vehicleSection" class="vehicle-section">
        <h3>Informações do Carro</h3>

        <label for="carModel">Modelo</label>
        <input type="text" id="carModel" name="carModel" placeholder="Modelo do carro" autocomplete="off">

        <label for="carYear">Ano</label>
        <input type="number" id="carYear" name="carYear" placeholder="Ano" autocomplete="off">

        <label for="carPlate">Placa</label>
        <input type="text" id="carPlate" name="carPlate" placeholder="AAA-0000" autocomplete="off">

        <label for="carBattery">Bateria (kWh)</label>
        <input type="text" id="carBattery" name="carBattery" placeholder="Ex: 75" autocomplete="off">

        <label for="carPower">Potência de Carga (kW)</label>
        <input type="text" id="carPower" name="carPower" placeholder="Ex: 150 kW" autocomplete="off">
      </div>

      <p id="registerMsg" class="msg"></p>
      <button type="submit" class="btn">Registrar</button>

      <!-- Link Voltar ao Login -->
      <div class="extra-actions">
        <a href="#" id="goToLogin">Já tem conta? Entrar</a>
      </div>
    </form>

    <!-- ==================== REGISTRO DE ESTAÇÃO ==================== -->
    <form id="registerStationForm" class="form" autocomplete="off">
      <h2>Registrar Estação</h2>

      <label for="stationFullName">Nome de Usuário</label>
      <input type="text" id="stationFullName" name="fullName" required placeholder="Seu nome" autocomplete="off">

      <div class="input-group">
        <label for="stationName">Nome da Localidade</label>
        <input type="text" id="stationName" name="stationName" required>
      </div>

      <div class="input-group">
        <label for="stationEmail">Email</label>
        <input type="email" id="stationEmail" name="stationEmail" required>
      </div>

      <div class="input-group">
        <label for="stationPass">Senha</label>
        <input type="password" id="stationPass" name="stationPass" required>
      </div>

      <div class="input-group">
        <label for="confirmStationPass">Confirmar Senha</label>
        <input type="password" id="confirmStationPass" name="confirmStationPass" required>
      </div>

      <div class="input-group">
        <label for="stationPhone">Número de Telefone</label>
        <input type="tel" id="stationPhone" name="stationPhone" placeholder="(99) 99999-9999">
      </div>

      <div class="input-group">
        <label for="stationCep">CEP</label>
        <input type="text" id="stationCep" name="stationCep" required>
      </div>

      <div class="input-group">
        <label for="stationAddress">Endereço</label>
        <input type="text" id="stationAddress" name="stationAddress" required>
      </div>

      <div class="input-group">
        <label for="stationDistrict">Bairro</label>
        <input type="text" id="stationDistrict" name="stationDistrict" required>
      </div>

      <div class="input-group">
        <label for="stationNumber">Número</label>
        <input type="text" id="stationNumber" name="stationNumber" required>
      </div>

      <div class="input-group">
        <label for="stationCity">Cidade</label>
        <input type="text" id="stationCity" name="stationCity" required>
      </div>

      <div class="input-group">
        <label for="stationState">Estado</label>
        <input type="text" id="stationState" name="stationState" required>
      </div>

      <div class="input-group">
        <label for="stationPower">Potência de Carregamento</label>
        <input type="text" id="stationPower" name="stationPower" placeholder="Ex: 150 kW" required>
      </div>

      <div class="input-group">
        <label for="stationOpen">Horário de Abertura</label>
        <input type="time" id="stationOpen" name="stationOpen" required>
      </div>

      <div class="input-group">
        <label for="stationClose">Horário de Fechamento</label>
        <input type="time" id="stationClose" name="stationClose" required>
      </div>

      <!-- Extras -->
      <div class="input-group">
        <label for="stationPrice">Preço (R$/kWh):</label>
        <input type="text" id="stationPrice" placeholder="Ex: R$ 1.50" />
      </div>

      <div class="input-group">
        <label for="stationWait">Tempo de espera:</label>
        <input type="text" id="stationWait" placeholder="Ex: 15 min" />
      </div>

      <p id="stationMsg" class="msg"></p>
      <button type="submit" class="btn">Registrar Estação</button>

      <!-- Link Voltar ao Login -->
      <div class="extra-actions">
        <a href="#" id="goToLoginFromStation">Já possui conta? Entrar</a>
      </div>
    </form>

  </div>

  <!-- Usar versão com API -->
  <script src="login-api.js"></script>
  
</body>

</html>